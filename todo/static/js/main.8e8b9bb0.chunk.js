(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),s=n(5),a=n.n(s),i=(n(10),n(3)),r=n(2),l=(n(11),n(0)),d="http://127.0.0.1:8000";function j(){var t=Object(c.useState)([]),e=Object(r.a)(t,2),n=e[0],o=e[1];Object(c.useEffect)((function(){fetch("".concat(d,"/todos/")).then((function(t){return t.json()})).then((function(t){return o(t.todo)}))}),[]);return Object(l.jsx)("div",{className:"app",children:Object(l.jsxs)("div",{className:"todo",children:[Object(l.jsx)("h1",{className:"todo__title",children:"TODO App"}),Object(l.jsx)("h2",{className:"todo__sub-title",children:"Do it now."}),Object(l.jsx)(u,{}),Object(l.jsxs)("table",{className:"todo__todo-table",children:[Object(l.jsx)("thead",{className:"todo-table__header",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"#"}),Object(l.jsx)("th",{children:"Task Name"}),Object(l.jsx)("th",{children:"Status"}),Object(l.jsx)("th",{children:"Remove"})]})}),Object(l.jsx)("tbody",{className:"todo-table__content",children:n.map((function(t){return Object(l.jsxs)("tr",{className:"content__item",children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.title}),Object(l.jsx)("td",{children:Object(l.jsx)(b,{initStatusId:t.status})}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{className:"item__remove-btn",type:"button",onClick:function(){return e=t.id,void fetch("".concat(d,"/todos/"),{method:"DELETE",data:{pk:e}}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}));var e},children:"Remove"})})]},t.id)}))})]}),0===n.length?Object(l.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#eee"},children:"Empty"}):null]})})}function u(){var t=Object(c.useState)(!1),e=Object(r.a)(t,2),n=e[0],o=e[1],s=Object(c.useState)({title:"",status:"1"}),a=Object(r.a)(s,2),j=a[0],u=a[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"add-task",onClick:function(){return o(!n)},children:"Add Task"}),Object(l.jsxs)("div",{className:"add-task__form",style:{display:n?"flex":"none"},children:[Object(l.jsxs)("p",{children:["Task name:"," ",Object(l.jsx)("input",{type:"text",value:j.title,onChange:function(t){var e=t.target.value;return u(Object(i.a)(Object(i.a)({},j),{},{title:e}))}})]}),Object(l.jsxs)("p",{children:["Status:"," ",Object(l.jsxs)("select",{value:j.status,onChange:function(t){var e=t.target.value;return u(Object(i.a)(Object(i.a)({},j),{},{status:e}))},children:[Object(l.jsx)("option",{value:"1",children:"ToDo"}),Object(l.jsx)("option",{value:"2",children:"InProgress"}),Object(l.jsx)("option",{value:"3",children:"Complete"})]})]}),Object(l.jsx)("hr",{}),Object(l.jsx)("button",{className:"create-btn",onClick:function(){var t=function(t){if(!document.cookie)return null;var e=document.cookie.split(";").map((function(t){return t.trim()})).filter((function(e){return e.startsWith(t+"=")}));return 0===e.length?null:decodeURIComponent(e[0].split("=")[1])}("csrftoken");fetch("".concat(d,"/todos/"),{credentials:"include",method:"POST",mode:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify(j)}).then((function(t){return t.json()})).then((function(t){-1===t.code?alert(t.todo):alert("Success created!")}))},children:"Create"}),Object(l.jsx)("button",{className:"cancel-btn",onClick:function(){return o(!1)},children:"Cancel"})]})]})}function b(t){var e=t.initStatusId,n=[{title:"ToDo",color:"blue"},{title:"InProgress",color:"orange"},{title:"Complete",color:"green"}],o=Object(c.useState)(e-1),s=Object(r.a)(o,2),a=s[0],i=s[1];return Object(l.jsx)("div",{className:"status",style:{color:n[a].color},onClick:function(){i(a===n.length-1?0:a+1)},children:n[a].title})}a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.8e8b9bb0.chunk.js.map