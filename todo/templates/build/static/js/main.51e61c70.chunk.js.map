{"version":3,"sources":["App.jsx","index.js"],"names":["baseURL","csrftoken","name","document","cookie","token","split","map","c","trim","filter","startsWith","length","decodeURIComponent","getCookie","App","useState","todoList","setTodoList","useEffect","fetch","then","res","json","data","todo","className","AddTask","el","id","title","Status","initStatusId","status","todoId","type","onClick","credentials","method","mode","headers","body","JSON","stringify","alert","style","width","height","display","justifyContent","alignItems","background","addTaskFormVisible","setAddTaskFormVisible","newTaskData","setNewTaskData","value","onChange","target","code","statusList","color","activeStatusIndex","setActiveStatusIndex","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.51e61c70.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport \"./App.css\";\n\nconst baseURL = \"http://127.0.0.1:8000\";\n\nfunction getCookie(name) {\n\tif (!document.cookie) {\n\t\treturn null;\n\t}\n\tconst token = document.cookie\n\t\t.split(\";\")\n\t\t.map(c => c.trim())\n\t\t.filter(c => c.startsWith(name + \"=\"));\n\n\tif (token.length === 0) {\n\t\treturn null;\n\t}\n\treturn decodeURIComponent(token[0].split(\"=\")[1]);\n}\n\nconst csrftoken = getCookie(\"csrftoken\");\n\nexport default function App() {\n\tconst [todoList, setTodoList] = useState([]);\n\n\tuseEffect(() => {\n\t\tfetch(`${baseURL}/todos/`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setTodoList(data.todo));\n\t}, []);\n\n\tconst handleRemove = id => {\n\t\tfetch(`${baseURL}/todos/`, {\n\t\t\tcredentials: \"include\",\n\t\t\tmethod: \"DELETE\",\n\t\t\tmode: \"same-origin\",\n\t\t\theaders: {\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrftoken,\n\t\t\t},\n\t\t\tbody: JSON.stringify({ id }),\n\t\t}).then(res => {\n\t\t\tfetch(`${baseURL}/todos/`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => setTodoList(data.todo));\n\n\t\t\talert(\"Deleted!\");\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<div className=\"todo\">\n\t\t\t\t<h1 className=\"todo__title\">TODO App</h1>\n\t\t\t\t<h2 className=\"todo__sub-title\">Do it now.</h2>\n\n\t\t\t\t<AddTask todoList={todoList} setTodoList={setTodoList} />\n\n\t\t\t\t<table className=\"todo__todo-table\">\n\t\t\t\t\t<thead className=\"todo-table__header\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>#</th>\n\t\t\t\t\t\t\t<th>Task Name</th>\n\t\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t\t<th>Remove</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody className=\"todo-table__content\">\n\t\t\t\t\t\t{todoList.map(el => (\n\t\t\t\t\t\t\t<tr key={el.id} className=\"content__item\">\n\t\t\t\t\t\t\t\t<td>{el.id}</td>\n\t\t\t\t\t\t\t\t<td>{el.title}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<Status\n\t\t\t\t\t\t\t\t\t\tinitStatusId={el.status}\n\t\t\t\t\t\t\t\t\t\ttodoId={el.id}\n\t\t\t\t\t\t\t\t\t\tsetTodoList={setTodoList}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"item__remove-btn\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(el.id)}>\n\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t{todoList.length === 0 ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tbackground: \"#eee\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tEmpty\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction AddTask({ todoList, setTodoList }) {\n\tconst [addTaskFormVisible, setAddTaskFormVisible] = useState(false);\n\n\tconst [newTaskData, setNewTaskData] = useState({\n\t\ttitle: \"\",\n\t\tstatus: \"1\",\n\t});\n\n\tconst handleAddTask = () => {\n\t\tfetch(`${baseURL}/todos/`, {\n\t\t\tcredentials: \"include\",\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\theaders: {\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrftoken,\n\t\t\t},\n\t\t\tbody: JSON.stringify(newTaskData),\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tif (data.code === -1) {\n\t\t\t\t\talert(data.todo);\n\t\t\t\t} else {\n\t\t\t\t\tsetTodoList([\n\t\t\t\t\t\t...todoList,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: data.todo.id,\n\t\t\t\t\t\t\ttitle: data.todo.title,\n\t\t\t\t\t\t\tstatus: data.todo.status,\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\t\t\t\t\talert(\"Success created!\");\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"add-task\"\n\t\t\t\tonClick={() => setAddTaskFormVisible(!addTaskFormVisible)}>\n\t\t\t\tAdd Task\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"add-task__form\"\n\t\t\t\tstyle={{ display: addTaskFormVisible ? \"flex\" : \"none\" }}>\n\t\t\t\t<p>\n\t\t\t\t\tTask name:{\" \"}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={newTaskData.title}\n\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\tsetNewTaskData({ ...newTaskData, title: value })\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\n\t\t\t\t<p>\n\t\t\t\t\tStatus:{\" \"}\n\t\t\t\t\t<select\n\t\t\t\t\t\tvalue={newTaskData.status}\n\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\tsetNewTaskData({ ...newTaskData, status: value })\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<option value=\"1\">ToDo</option>\n\t\t\t\t\t\t<option value=\"2\">InProgress</option>\n\t\t\t\t\t\t<option value=\"3\">Complete</option>\n\t\t\t\t\t</select>\n\t\t\t\t</p>\n\n\t\t\t\t<hr />\n\n\t\t\t\t<button className=\"create-btn\" onClick={handleAddTask}>\n\t\t\t\t\tCreate\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"cancel-btn\"\n\t\t\t\t\tonClick={() => setAddTaskFormVisible(false)}>\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nfunction Status({ initStatusId, todoId, setTodoList }) {\n\tconst statusList = [\n\t\t{ id: 1, title: \"ToDo\", color: \"blue\" },\n\t\t{ id: 2, title: \"InProgress\", color: \"orange\" },\n\t\t{ id: 3, title: \"Complete\", color: \"green\" },\n\t];\n\n\tconst [activeStatusIndex, setActiveStatusIndex] = useState(initStatusId - 1);\n\n\tconst changeStatus = () => {\n\t\tif (activeStatusIndex === statusList.length - 1) {\n\t\t\tfetch(`${baseURL}/todos/`, {\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tmethod: \"PATCH\",\n\t\t\t\tmode: \"same-origin\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-CSRFToken\": csrftoken,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({ id: todoId, status: statusList[0].id }),\n\t\t\t}).then(res => setActiveStatusIndex(0));\n\t\t} else {\n\t\t\tfetch(`${baseURL}/todos/`, {\n\t\t\t\tcredentials: \"include\",\n\t\t\t\tmethod: \"PATCH\",\n\t\t\t\tmode: \"same-origin\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-CSRFToken\": csrftoken,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tid: todoId,\n\t\t\t\t\tstatus: statusList[activeStatusIndex + 1].id,\n\t\t\t\t}),\n\t\t\t}).then(res => setActiveStatusIndex(activeStatusIndex + 1));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"status\"\n\t\t\tstyle={{ color: statusList[activeStatusIndex].color }}\n\t\t\tonClick={changeStatus}>\n\t\t\t{statusList[activeStatusIndex].title}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}