{"version":3,"sources":["App.jsx","index.js"],"names":["baseURL","App","useState","todoList","setTodoList","useEffect","fetch","then","res","json","data","todo","className","AddTask","map","el","id","title","Status","initStatusId","status","type","onClick","method","pk","console","log","catch","err","length","style","width","height","display","justifyContent","alignItems","background","addTaskFormVisible","setAddTaskFormVisible","newTaskData","setNewTaskData","value","onChange","target","csrftoken","name","document","cookie","token","split","c","trim","filter","startsWith","decodeURIComponent","getCookie","credentials","mode","headers","body","JSON","stringify","code","alert","statusList","color","activeStatusIndex","setActiveStatusIndex","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8e8b9bb0.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport \"./App.css\";\n\nconst baseURL = \"http://127.0.0.1:8000\";\n\nfunction getCookie(name) {\n\tif (!document.cookie) {\n\t\treturn null;\n\t}\n\tconst token = document.cookie\n\t\t.split(\";\")\n\t\t.map(c => c.trim())\n\t\t.filter(c => c.startsWith(name + \"=\"));\n\n\tif (token.length === 0) {\n\t\treturn null;\n\t}\n\treturn decodeURIComponent(token[0].split(\"=\")[1]);\n}\n\nexport default function App() {\n\tconst [todoList, setTodoList] = useState([]);\n\n\tuseEffect(() => {\n\t\tfetch(`${baseURL}/todos/`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => setTodoList(data.todo));\n\t}, []);\n\n\tconst handleRemove = id => {\n\t\tfetch(`${baseURL}/todos/`, { method: \"DELETE\", data: { pk: id } })\n\t\t\t.then(res => console.log(res))\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<div className=\"todo\">\n\t\t\t\t<h1 className=\"todo__title\">TODO App</h1>\n\t\t\t\t<h2 className=\"todo__sub-title\">Do it now.</h2>\n\n\t\t\t\t<AddTask />\n\n\t\t\t\t<table className=\"todo__todo-table\">\n\t\t\t\t\t<thead className=\"todo-table__header\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>#</th>\n\t\t\t\t\t\t\t<th>Task Name</th>\n\t\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t\t<th>Remove</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\n\t\t\t\t\t<tbody className=\"todo-table__content\">\n\t\t\t\t\t\t{todoList.map(el => (\n\t\t\t\t\t\t\t<tr key={el.id} className=\"content__item\">\n\t\t\t\t\t\t\t\t<td>{el.id}</td>\n\t\t\t\t\t\t\t\t<td>{el.title}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<Status initStatusId={el.status} />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"item__remove-btn\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleRemove(el.id)}>\n\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t{todoList.length === 0 ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tbackground: \"#eee\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tEmpty\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction AddTask() {\n\tconst [addTaskFormVisible, setAddTaskFormVisible] = useState(false);\n\n\tconst [newTaskData, setNewTaskData] = useState({\n\t\ttitle: \"\",\n\t\tstatus: \"1\",\n\t});\n\n\tconst handleAddTask = () => {\n\t\tconst csrftoken = getCookie(\"csrftoken\");\n\n\t\tfetch(`${baseURL}/todos/`, {\n\t\t\tcredentials: \"include\",\n\t\t\tmethod: \"POST\",\n\t\t\tmode: \"same-origin\",\n\t\t\theaders: {\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-CSRFToken\": csrftoken,\n\t\t\t},\n\t\t\tbody: JSON.stringify(newTaskData),\n\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\t\t\t\tif (data.code === -1) {\n\t\t\t\t\talert(data.todo);\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Success created!\");\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"add-task\"\n\t\t\t\tonClick={() => setAddTaskFormVisible(!addTaskFormVisible)}>\n\t\t\t\tAdd Task\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"add-task__form\"\n\t\t\t\tstyle={{ display: addTaskFormVisible ? \"flex\" : \"none\" }}>\n\t\t\t\t<p>\n\t\t\t\t\tTask name:{\" \"}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={newTaskData.title}\n\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\tsetNewTaskData({ ...newTaskData, title: value })\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\n\t\t\t\t<p>\n\t\t\t\t\tStatus:{\" \"}\n\t\t\t\t\t<select\n\t\t\t\t\t\tvalue={newTaskData.status}\n\t\t\t\t\t\tonChange={({ target: { value } }) =>\n\t\t\t\t\t\t\tsetNewTaskData({ ...newTaskData, status: value })\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<option value=\"1\">ToDo</option>\n\t\t\t\t\t\t<option value=\"2\">InProgress</option>\n\t\t\t\t\t\t<option value=\"3\">Complete</option>\n\t\t\t\t\t</select>\n\t\t\t\t</p>\n\n\t\t\t\t<hr />\n\n\t\t\t\t<button className=\"create-btn\" onClick={handleAddTask}>\n\t\t\t\t\tCreate\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"cancel-btn\"\n\t\t\t\t\tonClick={() => setAddTaskFormVisible(false)}>\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nfunction Status({ initStatusId }) {\n\tconst statusList = [\n\t\t{ title: \"ToDo\", color: \"blue\" },\n\t\t{ title: \"InProgress\", color: \"orange\" },\n\t\t{ title: \"Complete\", color: \"green\" },\n\t];\n\n\tconst [activeStatusIndex, setActiveStatusIndex] = useState(initStatusId - 1);\n\n\tconst changeStatus = () => {\n\t\tif (activeStatusIndex === statusList.length - 1) {\n\t\t\tsetActiveStatusIndex(0);\n\t\t} else {\n\t\t\tsetActiveStatusIndex(activeStatusIndex + 1);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"status\"\n\t\t\tstyle={{ color: statusList[activeStatusIndex].color }}\n\t\t\tonClick={changeStatus}>\n\t\t\t{statusList[activeStatusIndex].title}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\"),\n);\n"],"sourceRoot":""}